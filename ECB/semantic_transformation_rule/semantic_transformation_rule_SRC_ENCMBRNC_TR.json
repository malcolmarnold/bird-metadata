{
  "semantic_transformation_rule_id" : "SRC_ENCMBRNC_TR",
  "transformation_url" : "https://gitlab.sofa.dev/bird-subgroups/bird-transformation-rules/-/blob/main/AnaCredit%20Subgroup/Derivation%20rules%20-%20Final/SRC_ENCMBRNC/infosheet.md",
  "type_of_transformation" : "D",
  "maintenance_agency_id" : "ECB",
  "name" : "Source of encumbrance derivation rule",
  "code" : "SRC_ENCMBRNC_TR",
  "description" : "This derivation rule aims to obtain the Source of encumbrance from its building blocks.",
  "algorithm" : "SET BIRD_INSTRMNT_RL_EIL.SRC_ENCMBRNC =\n    CASE\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID\n            FROM BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_RL_IL\n                WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n            )\n            AND BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL\n                WHERE BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_RL_TYP = 36\n                AND BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_ID IN (\n                    SELECT BIRD_PRTY_IL.PRTY_ID\n                    FROM BIRD_PRTY_IL\n                    WHERE BIRD_PRTY_IL.PRTY_TYP IN (37, 38)\n                )\n            )\n        )\n        THEN 5\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL\n            WHERE BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_RL_TYP = 8\n            AND BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID IN (\n                SELECT BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID\n                FROM BIRD_DBT_SCRTY_ISSD_IL\n                WHERE BIRD_DBT_SCRTY_ISSD_IL.TYP_PRDCT = 630\n            )\n            AND NOT EXISTS (\n                SELECT BIRD_SCRTY_PSTN_IL.SCRTY_ID\n                FROM BIRD_SCRTY_PSTN_IL\n                WHERE BIRD_SCRTY_PSTN_IL.SCRTY_ID =\n                            BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    AND BIRD_SCRTY_PSTN_IL.INVSTR_PRTY_ID IN (\n                        SELECT BIRD_DBT_SCRTY_ISSD_IL.RPRTNG_AGNT_ID\n                        FROM BIRD_DBT_SCRTY_ISSD_IL\n                        WHERE BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID =\n                                BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    )\n            )\n        )\n        THEN 10\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL\n            WHERE BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_RL_TYP = 8\n            AND BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID IN (\n                SELECT BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID\n                FROM BIRD_DBT_SCRTY_ISSD_IL\n                WHERE BIRD_DBT_SCRTY_ISSD_IL.TYP_PRDCT = 620\n            )\n            AND NOT EXISTS (\n                SELECT BIRD_SCRTY_PSTN_IL.SCRTY_ID\n                FROM BIRD_SCRTY_PSTN_IL\n                WHERE BIRD_SCRTY_PSTN_IL.SCRTY_ID =\n                            BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    AND BIRD_SCRTY_PSTN_IL.INVSTR_PRTY_ID IN (\n                        SELECT BIRD_DBT_SCRTY_ISSD_IL.RPRTNG_AGNT_ID\n                        FROM BIRD_DBT_SCRTY_ISSD_IL\n                        WHERE BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID =\n                                BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    )\n            )\n        )\n        THEN 11\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL\n            WHERE BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_RL_TYP = 8\n            AND BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID IN (\n                SELECT BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID\n                FROM BIRD_DBT_SCRTY_ISSD_IL\n                WHERE BIRD_DBT_SCRTY_ISSD_IL.TYP_PRDCT IN (651, 652, 610, 640, 650)\n            )\n            AND NOT EXISTS (\n                SELECT BIRD_SCRTY_PSTN_IL.SCRTY_ID\n                FROM BIRD_SCRTY_PSTN_IL\n                WHERE BIRD_SCRTY_PSTN_IL.SCRTY_ID =\n                            BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    AND BIRD_SCRTY_PSTN_IL.INVSTR_PRTY_ID IN (\n                        SELECT BIRD_DBT_SCRTY_ISSD_IL.RPRTNG_AGNT_ID\n                        FROM BIRD_DBT_SCRTY_ISSD_IL\n                        WHERE BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID =\n                                BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    )\n            )\n        )\n        THEN 12\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_INSTRMNT_IL_PRTCTN_ARRNGMNT_ASSGNMNT\n            WHERE BIRD_INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_IL.INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_TYP = 2\n            AND BIRD_INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_IL.PRTCTN_ID IN (\n                SELECT BIRD_EXCHNG_TRDBL_DRVTV_PSTN_PRTCN_ARRNGMNT_ASSGNMNT_IL.PRTCTN_ID\n                FROM BIRD_EXCHNG_TRDBL_DRVTV_PSTN_PRTCN_ARRNGMNT_ASSGNMNT_IL\n                WHERE BIRD_EXCHNG_TRDBL_DRVTV_PSTN_PRTCN_ARRNGMNT_ASSGNMNT_IL.EXCHNG_TRDBL_DRVTV_PRTCN_ARRNGMNT_ASSGNMNT_TYP = 1\n            )\n        )\n        THEN 6\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID\n            FROM BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_RL_IL\n                WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n            )\n            AND BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_IL\n                WHERE BIRD_INSTRMNT_IL.INSTRMNT_TYP_PRDCT IN (5, 6, 7, 8, 9, 10, 380)\n            )\n        )\n        THEN 7\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_TRNSFRRD_ASST_LG_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_TRNSFRRD_ASST_LG_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_TRNSFRRD_ASST_LG_INSTRMNT_ASSGNMNT_IL.RPRCHS_AGRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL\n                WHERE BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_RL_TYP = 14\n                AND BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_ID IN (\n                    SELECT BIRD_PRTY_IL.PRTY_ID\n                    FROM BIRD_PRTY_IL\n                    WHERE BIRD_PRTY_IL.PRTY_TYP NOT IN (37, 38)\n                )\n            )\n        )\n        THEN 8\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID\n            FROM BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_RL_IL\n                WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n            )\n            AND BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_IL\n                WHERE BIRD_INSTRMNT_IL.INSTRMNT_TYP_PRDCT IN (522, 1202, 1201)\n            )\n        )\n        THEN 9\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n            FROM BIRD_INSTRMNT_RL_IL\n            WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n        )\n        THEN 13\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n            FROM BIRD_INSTRMNT_RL_IL\n            WHERE BIRD_INSTRMNT_RL_IL.ENCMBRD_ASST_INDCTR = 1\n        )\n        THEN 1\n\n    END;",
  "valid_from" : "2025-11-15",
  "valid_to" : "9999-12-31",
  "logical_transformation_rule" : [ {
    "logical_transformation_rule_id" : "DER__BIRD_INSTRMNT_RL_EIL_1__SRC_ENCMBRNC__01_01_1990",
    "semantic_transformation_rule_id" : "SRC_ENCMBRNC_TR",
    "algorithm" : "SET BIRD_INSTRMNT_RL_EIL.SRC_ENCMBRNC =\n    CASE\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID\n            FROM BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_RL_IL\n                WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n            )\n            AND BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL\n                WHERE BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_RL_TYP = 36\n                AND BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_ID IN (\n                    SELECT BIRD_PRTY_IL.PRTY_ID\n                    FROM BIRD_PRTY_IL\n                    WHERE BIRD_PRTY_IL.PRTY_TYP IN (37, 38)\n                )\n            )\n        )\n        THEN 5\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL\n            WHERE BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_RL_TYP = 8\n            AND BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID IN (\n                SELECT BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID\n                FROM BIRD_DBT_SCRTY_ISSD_IL\n                WHERE BIRD_DBT_SCRTY_ISSD_IL.TYP_PRDCT = 630\n            )\n            AND NOT EXISTS (\n                SELECT BIRD_SCRTY_PSTN_IL.SCRTY_ID\n                FROM BIRD_SCRTY_PSTN_IL\n                WHERE BIRD_SCRTY_PSTN_IL.SCRTY_ID =\n                            BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    AND BIRD_SCRTY_PSTN_IL.INVSTR_PRTY_ID IN (\n                        SELECT BIRD_DBT_SCRTY_ISSD_IL.RPRTNG_AGNT_ID\n                        FROM BIRD_DBT_SCRTY_ISSD_IL\n                        WHERE BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID =\n                                BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    )\n            )\n        )\n        THEN 10\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL\n            WHERE BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_RL_TYP = 8\n            AND BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID IN (\n                SELECT BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID\n                FROM BIRD_DBT_SCRTY_ISSD_IL\n                WHERE BIRD_DBT_SCRTY_ISSD_IL.TYP_PRDCT = 620\n            )\n            AND NOT EXISTS (\n                SELECT BIRD_SCRTY_PSTN_IL.SCRTY_ID\n                FROM BIRD_SCRTY_PSTN_IL\n                WHERE BIRD_SCRTY_PSTN_IL.SCRTY_ID =\n                            BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    AND BIRD_SCRTY_PSTN_IL.INVSTR_PRTY_ID IN (\n                        SELECT BIRD_DBT_SCRTY_ISSD_IL.RPRTNG_AGNT_ID\n                        FROM BIRD_DBT_SCRTY_ISSD_IL\n                        WHERE BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID =\n                                BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    )\n            )\n        )\n        THEN 11\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL\n            WHERE BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.INSTRMNT_RL_TYP = 8\n            AND BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID IN (\n                SELECT BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID\n                FROM BIRD_DBT_SCRTY_ISSD_IL\n                WHERE BIRD_DBT_SCRTY_ISSD_IL.TYP_PRDCT IN (651, 652, 610, 640, 650)\n            )\n            AND NOT EXISTS (\n                SELECT BIRD_SCRTY_PSTN_IL.SCRTY_ID\n                FROM BIRD_SCRTY_PSTN_IL\n                WHERE BIRD_SCRTY_PSTN_IL.SCRTY_ID =\n                            BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    AND BIRD_SCRTY_PSTN_IL.INVSTR_PRTY_ID IN (\n                        SELECT BIRD_DBT_SCRTY_ISSD_IL.RPRTNG_AGNT_ID\n                        FROM BIRD_DBT_SCRTY_ISSD_IL\n                        WHERE BIRD_DBT_SCRTY_ISSD_IL.DBT_SCRTY_ISSD_ID =\n                                BIRD_CLLTRL_GVN_INSTRMNT_DBT_SCRTY_ISSD_ASSGNMNT_IL.DBT_SCRTY_ISSD_ID\n                    )\n            )\n        )\n        THEN 12\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_INSTRMNT_IL_PRTCTN_ARRNGMNT_ASSGNMNT\n            WHERE BIRD_INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_IL.INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_TYP = 2\n            AND BIRD_INSTRMNT_PRTCTN_ARRNGMNT_ASSGNMNT_IL.PRTCTN_ID IN (\n                SELECT BIRD_EXCHNG_TRDBL_DRVTV_PSTN_PRTCN_ARRNGMNT_ASSGNMNT_IL.PRTCTN_ID\n                FROM BIRD_EXCHNG_TRDBL_DRVTV_PSTN_PRTCN_ARRNGMNT_ASSGNMNT_IL\n                WHERE BIRD_EXCHNG_TRDBL_DRVTV_PSTN_PRTCN_ARRNGMNT_ASSGNMNT_IL.EXCHNG_TRDBL_DRVTV_PRTCN_ARRNGMNT_ASSGNMNT_TYP = 1\n            )\n        )\n        THEN 6\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID\n            FROM BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_RL_IL\n                WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n            )\n            AND BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_IL\n                WHERE BIRD_INSTRMNT_IL.INSTRMNT_TYP_PRDCT IN (5, 6, 7, 8, 9, 10, 380)\n            )\n        )\n        THEN 7\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_TRNSFRRD_ASST_LG_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID\n            FROM BIRD_TRNSFRRD_ASST_LG_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_TRNSFRRD_ASST_LG_INSTRMNT_ASSGNMNT_IL.RPRCHS_AGRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL\n                WHERE BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_RL_TYP = 14\n                AND BIRD_INSTRMNT_ENTTY_RL_ASSGNMNT_IL.PRTY_ID IN (\n                    SELECT BIRD_PRTY_IL.PRTY_ID\n                    FROM BIRD_PRTY_IL\n                    WHERE BIRD_PRTY_IL.PRTY_TYP NOT IN (37, 38)\n                )\n            )\n        )\n        THEN 8\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID\n            FROM BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL\n            WHERE BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.CLLTRL_INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_RL_IL\n                WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n            )\n            AND BIRD_INSTRMNT_CLLTRL_RCVD_INSTRMNT_ASSGNMNT_IL.INSTRMNT_ID IN (\n                SELECT BIRD_INSTRMNT_IL.INSTRMNT_ID\n                FROM BIRD_INSTRMNT_IL\n                WHERE BIRD_INSTRMNT_IL.INSTRMNT_TYP_PRDCT IN (522, 1202, 1201)\n            )\n        )\n        THEN 9\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n            FROM BIRD_INSTRMNT_RL_IL\n            WHERE BIRD_INSTRMNT_RL_IL.INSTRMNT_RL_TYP = 8\n        )\n        THEN 13\n\n\n        WHEN BIRD_INSTRMNT_RL_IL.INSTRMNT_ID IN (\n            SELECT BIRD_INSTRMNT_RL_IL.INSTRMNT_ID\n            FROM BIRD_INSTRMNT_RL_IL\n            WHERE BIRD_INSTRMNT_RL_IL.ENCMBRD_ASST_INDCTR = 1\n        )\n        THEN 1\n\n    END;",
    "additional_filters" : null,
    "source_layer" : "IL",
    "destination_layer" : "EIL",
    "transformation_type" : null,
    "valid_from" : "1990-01-01",
    "valid_to" : "9999-12-31"
  } ]
}